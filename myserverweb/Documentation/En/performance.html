<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <link rel="stylesheet" type="text/css" href="myserver.css">
  <title>Performance</title>
</head>
<body>
<h1 class="title">PERFORMANCE TUNING<br>
</h1>
Here you can see a few options you can set to tune the performance of
your webserver.<br>
<br>
<div style="margin-left: 40px;">
<div style="text-align: left;">
<div align="left"><span style="font-weight: bold;"><font class="code">Threads
Tuning:<br>
</font> <br>
</span>In the myserver.xml file you can setup the amount of threads
MyServer will use. In the lines below, you configure the two
configurable parameters NTHREADS_STATIC and NTHREADS_MAX, the first one
is used to define number of threads always alive, the second one is
used to define the highest number of threads that myserver can create.<br>
&nbsp;&nbsp;&nbsp; &lt;NTHREADS_STATIC&gt;10&lt;/NTHREADS_STATIC&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;NTHREADS_MAX&gt;10&lt;/NTHREADS_MAX&gt;<br>
<br>
<br>
<br>
<span style="font-weight: bold;"><font class="code">Buffer Size:<br>
</font> <br>
</span>You can set&nbsp; the size of the Buffers used by MyServer, by
setting the line below, in the myserver.xml file:<br>
&nbsp;&nbsp;&nbsp; &lt;BUFFER_SIZE&gt;102400&lt;/BUFFER_SIZE&gt;<br>
Just change the default value 102400 to your desired number. Remember
that, in fact, your Buffer will be twice the value you set here (in
Bytes), multiplied by the number of running threads.<br>
<br>
<span style="font-weight: bold;"><br>
<font class="code"> Connection Timeout:<br>
</font> <br>
</span>In myserver.xml, you can set the Timeout for client connections
to your server, in the line below:<br>
&nbsp;&nbsp;&nbsp;
&lt;CONNECTION_TIMEOUT&gt;60&lt;/CONNECTION_TIMEOUT&gt;<br>
The time unit is seconds. So, in the line above, if your client doesn't
access your site for more than 60 seconds, the connection will be
closed. Or if you prefer, set this value to 0 and you won't have HTTP
Keep-Alive Connections.<br>
<br>
<span style="font-weight: bold;"><br>
<font class="code"> Max Connections:<br>
</font> <br>
</span>You can change the default maximum number of connections your
webserver will accept, by changing the line below in
myserver.xml:<br>
&nbsp;&nbsp;&nbsp; &lt;MAX_CONNECTIONS&gt;0&lt;/MAX_CONNECTIONS&gt;<br>
The default value 0 means you will accept infinite connections. Any
other value will limit how many users will be accessing your server.<br>
<br>
<span style="font-weight: bold;"><font class="code"><br>
Max FastCGI Servers: <br>
<br>
</font></span>MyServer lets you configure the maximum number of FastCGI
servers allowed to run, by changing the value in the line below, in
myserver.xml:<br>
&nbsp;&nbsp;&nbsp;
&lt;FASTCGI_MAX_SERVERS&gt;10&lt;/FASTCGI_MAX_SERVERS&gt;<br>
<br>
<br>
<span style="font-weight: bold;"><font class="code">Setting CGI
Timeout: </font></span><span style="font-weight: bold;"></span><br>
<span style="font-weight: bold;"><font class="code"><br>
</font></span>You can set the default timeout for your CGI scripts in
MyServer by changing the value of the variable CGI_TIMEOUT in your
myserver.xml file.<br>
Just change the line below to fit your need:<br>
&nbsp;&nbsp;&nbsp; &lt;CGI_TIMEOUT&gt;15&lt;/CGI_TIMEOUT&gt;<br>
The configuration above would mean you are setting the CGI Timeout to
15 seconds (unit is "seconds")<br>
</div>
</div>
<br>
<div style="text-align: left;"><span style="font-weight: bold;"><font
 class="code"><br>
Setting CGI
Timeout: <br>
<br>
</font></span>You can set the data throttling rate for connections in
MyServer (by default, it's disabled) by adding a line like the
following, in you myserver.xml file:<br>
&nbsp;&nbsp;&nbsp; &lt;THROTTLING_RATE&gt;1024&lt;/THROTTLING_RATE&gt;
<br>
(Unit is bytes/second)<br>
If that same line is available in virtualhosts.xml, it will enable and
configure data throttling for the corresponding virtual host.<br>
<br>
<br>
Also, you can configure the data throttling for individual directories,
using these configurations in your secutiy file:<br>
&nbsp;&nbsp;&nbsp; &lt;USER NAME="Guest" PASS="" READ="TRUE"
WRITE="TRUE" BROWSE="TRUE"<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EXECUTE="TRUE"
THROTTLING_RATE="1024"/&gt;
<br>
With that, you'd enabling the trottlling of 1024&nbsp; bytes/second
for the user Guest.<br>
If you add a line like the following, you will be enabling throttling
for a file named "bigfile":<br>
&nbsp;&nbsp;&nbsp; &lt;ITEM FILE="bigfile" READ="TRUE" WRITE="FALSE"
EXECUTE="FALSE"<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; THROTTLING_RATE="1024" /&gt;
<br>
You can also mix the two possibilities and set this configuration for a
specified user on a single file:<br>
&nbsp;&nbsp;&nbsp; &lt;ITEM FILE="bigfile" READ="TRUE" WRITE="FALSE"
EXECUTE="FALSE"&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;USER NAME="Guest" PASS="" READ="TRUE"
WRITE="TRUE" BROWSE="TRUE"<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EXECUTE="TRUE"
THROTTLING_RATE="1024"/&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/ITEM&gt;
<br>
<br>
This is the order of checking for dta throlling configuration:<br>
1) User &amp; file(USER attribute inside ITEM).<br>
2) File(ITEM attribute).<br>
3) User(USER attribute).<br>
4) Virtual host(virtualhosts.xml file).<br>
5) Server configuration(myserver.xml file).<br>
</div>
</div>
</body>
</html>
