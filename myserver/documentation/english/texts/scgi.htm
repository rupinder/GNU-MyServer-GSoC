<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>MyServer Documentation - SCGI - www.myserverproject.net</title>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rel="stylesheet" type="text/css" href="../style/myserver.css" />
</head>
<body>

<h1 class="title">SCGI<br />
</h1>
Simple Common Gateway Interface (SCGI) protocol is a replacement for
the CGI protocol.  It is a standard for applications to interface with
HTTP servers.  It is similar to FastCGI but is designed to be easier to
implement. 
<br />
<br />
You can use SCGI in MyServer, simply by setting
the <a  href="mimetypes.html" class="code">MIME Type</a>
to <span class="code">RUNSCGI</span>.
<br />

<h2 class="title">Remote SCGI Servers</h2>
The SCGI server has to be specified in
the <span class="code">MANAGER</span> part of the MIME type in the
following way:
<br />

<span class="code">
&lt;MIMETYPE&gt;<br />
&lt;EXT&gt;scgi&lt;/EXT&gt;<br />
&lt;MIME&gt;text/html&lt;/MIME&gt;<br />
&lt;CMD&gt;RUNSCGI&lt;/CMD&gt;<br />
<br />
&lt;MANAGER&gt;@host:port&lt;/MANAGER&gt;<br />
&lt;/MIMETYPE&gt;<br />
</span>
<br />
The definition for a remote manager must begin with @.<br />

If you are configuring the MIME types through the Control center
application, you can add a remote server by adding a line in the form<br />
<span class="code">@HOST:PORT</span>
in the SCGI path field.<br />
<br />

<h2 class="title">How use shortcuts</h2>
If the same server is used by different MIME types it is good idea to
put a shortcut to it.  The following code must be placed in the
myserver.xml configuration file:
<br />

<div class="code">
&lt;PROCESS_SERVER&gt;<br />
&lt;NAME&gt;MY_SHORTCUT&lt;NAME&gt<br />
&lt;DOMAIN&gt;SCGI&lt;DOMAIN&gt<br />
&lt;HOST&gt;localhost&lt;HOST&gt<br />
&lt;PORT&gt;3333&lt;/PORT&gt<br />
&lt;LOCAL&gt;NO&lt;/LOCAL&gt<br />
&lt;/PROCESS_SERVER&gt<br />
</div>

<br />
If <span class="code">LOCAL</span> is equal to "YES" then the new
process will be created by myserver,
the <span class="code">NAME</span> will be used as the path to the
process to execute.  If the server is not local then
the <span class="code">NAME</span> descriptor can have any value.

<br />
<span class="code">DOMAIN</span> specifies the server domain and in
this case it has to have the value <span class="code">SCGI</span>.
<br />
<span class="code">HOST</span> and <span class="code">PORT</span>
specify where the server is located and the listening TCP port.
<br />
<span class="code">NAME</span> is the shortcut's name that will be
specified later for the MIME type.
<br />
<br />

After the shortcut is created it needs to be called by the MIME type,
the <span class="code">MANAGER</span> descriptor in the MIME type has to
have the shortcut's name:<br />
<span class="code">&lt;MANAGER&gt;MY_SHORTCUT&lt;/MANAGER&gt;</span><br />

If the manager is not a valid shortcut then the server will treat
the manager descriptor as described in the previous section. 
</body>
</html>
