@c -*-texinfo-*-
Virtual hosts is a method to link more than a domain name to the same
machine, even if they refer to the same network interface.  Virtual
hosts are supported by the HTTP and HTTPS protocols.

For example http://mypc.net is different from http://sub.mypc.net.  
Virtual hosts are defined in the file @file{virtualhosts.xml}. 
A sample virtual hosts configuration file looks like:

@example
<VHOSTS>
  <VHOST>
    <NAME>Every connection</NAME>
    <PORT>80</PORT>
    <IP>192.168.0.0/24</IP>
    <PROTOCOL>HTTP</PROTOCOL>
    <DOCROOT>web</DOCROOT>
    <SYSFOLDER>system</SYSFOLDER>
    <HOST>foo.bar.com</HOST>
    <ACCESSLOG>logs/myServer.log</ACCESSLOG>
    <WARNINGLOG>logs/myServer.err</WARNINGLOG>
    <ALLOW_CGI>NO</ALLOW_CGI>
  </VHOST>
</VHOSTS>
@end example

@itemize
@item <NAME>
it gives the server administrator an idea of what the virtual host
is such as internal Ethernet, external ethernet or every connection.
@item <PORT>
it is the port used to accept connections.
@item <IP>
it is optional.  It defines a CIDR subnet mask in the format A.B.C.D/E
or defining the first and the last IP address in the range as
A.B.C.D-E.F.G.H.  Multiple masks can be defined for the same virtual
host.
@item <PROTOCOL>
it is the protocol used by the host.
@item <DOCROOT>
it is the directory where the files are found.
@item <SYSFOLDER>
it is the system directory.
@item <HOST>
it is your virtual host's name. The optional useRegex="YES"
means the address would act as a regular expression, not only a fixed
value.  Multiple host names can be defined for the same virtual host.
@item <ACCESSLOG>
it is the access log used by the virtual host
@item <WARNINGLOG>
it is the errors log file used by the virtual host.
@end itemize

Log files can have extra options:

@example
<ACCESSLOG type="combined">logs/myServerHTTP.log</ACCESSLOG>
@end example

With this option, the logs will have two extra fields: HTTP Referrer
and HTTP User Agent.
Using cycle="yes" you will enable log cycler on the log file. When a
log file with cycling enabled reaches the max size for log files it
will write its content to a new file and recreate the original
file. By default cycled log files uses the gzip compression to save
space, if you don't want to use gzip specify cycle_gzip="no".
Here is an example of a FTP virtual host:

@example
<VHOSTS>
  <VHOST>
    <NAME>Ftp connection</NAME>
    <PORT>21</PORT>
    <IP>127.0.0.1/32</IP>
    <PROTOCOL>FTP</PROTOCOL>
    <DOCROOT>web</DOCROOT>
    <SYSFOLDER>system</SYSFOLDER>
    <HOST>ftp.foo.bar.com</HOST>
    <ACCESSLOG>logs/myServer.log</ACCESSLOG>
    <WARNINGLOG>logs/myServer.err</WARNINGLOG>
  </VHOST>
</VHOSTS>
@end example

Tags semantics are identical with first example.
Although FTP is used for public file sharing, restrictions may be
imposed using security file.

@subsection HTTP specific configuration
MyServer gives you the option to enable the HTTP TRACE command for
each virtual host. All you need to do is edit the @file{security.xml}
file of the root of your virtual host (not a subdirectory!  If the
file doesn't exist, you may create a new one), and add the parameter:

@example
<DEFINE name="http.allow_trace" value="YES" />
@end example

Once you do that, you enable the HTTP TRACE command. By default, it's
disabled.
